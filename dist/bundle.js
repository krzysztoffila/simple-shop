(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var e=document.querySelector(".newsletter__input--button"),r=document.querySelector(".newsletter__email-input"),n=document.querySelector(".newsletter__checkbox--check");e.addEventListener("click",(function(t){t.preventDefault();var e=r.value.trim(),o=window.innerWidth>768;""!==e&&n.checked||!o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?alert("Zapisałeś się do newslettera - sprawdź skrzynkę na ".concat(e," i odbierz 5% rabatu!")):alert("Podaj poprawny adres e-mail!"):(alert("Uzupełnij pole e-mail i zaakceptuj warunki!"),r.value="")}));var o=Array.from(document.querySelectorAll(".category__photo picture img")),a=Array.from(document.querySelectorAll(".category__photo picture source"));fetch("https://picsum.photos/v2/list?page=1&limit=8").then((function(t){if(!t.ok)throw new Error("Response status: ".concat(t.status));return t.json()})).catch((function(t){return console.log(t.message),[]})).then((function(t){for(var e=0;e<t.length&&e<o.length;e++)o[e].src=o[e].dataset.src=a[e].srcset=a[e].data=t[e].download_url}));var c=document.querySelectorAll("img[data-src]"),l=new IntersectionObserver((function(e,r){var n,o,a=(n=e,o=1,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,c,l=[],i=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw o}}return l}}(n,o)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];a.isIntersecting&&(a.target.src=a.target.dataset.src,a.target.addEventListener("load",(function(){a.target.classList.remove("lazy-img")})),r.unobserve(a.target))}),{root:null,threshold:0,rootMargin:"-600px"});c.forEach((function(t){return l.observe(t)}))})();